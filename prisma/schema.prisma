generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  password  String
  createdAt DateTime @default(now())
  email     String   @unique
  updateUt  DateTime @updatedAt
  username  String   @unique
  orders    Order[]
}

model Product {
  id          Int             @id @default(autoincrement())
  name        String
  description String?
  price       Float
  brand       String
  created_at  DateTime        @default(now())
  image_url   String?
  quantity    Int
  updated_at  DateTime        @updatedAt
  category    ProductCategory
  gender      ProductGender
  material    ProductMaterial
  color       Color[]         @relation("ColorToProduct")
  size        Size[]          @relation("ProductToSize")
}

model Order {
  id               Int      @id @default(autoincrement())
  userId           Int
  created_at       DateTime @default(now())
  order_date       DateTime
  shipping_address String
  status           Boolean  @default(false)
  total_amount     Float
  updated_at       DateTime @updatedAt
  user             User     @relation(fields: [userId], references: [id])
}

model Color {
  id      Int       @id @default(autoincrement())
  color   ColorEnum
  product Product[] @relation("ColorToProduct")
}

model Size {
  id      Int         @id @default(autoincrement())
  size    ProductSize
  product Product[]   @relation("ProductToSize")
}

enum ProductCategory {
  SHIRT
  SNEAKERS
  TROUSERS
  HOODIES
  HEADDRESS
}

enum ColorEnum {
  black
  blue
  white
  green
  gray
  beige
}

enum ProductSize {
  S
  M
  L
  X
  XL
}

enum ProductGender {
  MAN
  GIRL
}

enum ProductMaterial {
  COTTON
  LINEN
  WOOL
  SILK
}
